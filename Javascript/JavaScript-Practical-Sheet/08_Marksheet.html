<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Marksheet</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: sans-serif;
      }
      .error {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <h1>Marksheet For Information Technology</h1>
      <caption>
        Enter Marks
      </caption>
      <table>
        <tr>
          <td>1. C language</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td>2. C++ language</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td>3. Database</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td>4. HTML</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td>5. CSS</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td>6. PHP</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td>7. Core Java</td>
          <td><input type="number" class="input" /></td>
          <td><p class="print"></p></td>
        </tr>
        <tr>
          <td></td>
          <td><button id="result">Result</button></td>
        </tr>
      </table>
      <footer>
        <p>Total is: <span id="total">000</span> / 350</p>
        <p>Percentage is: <span id="percentage"></span>%</p>
        <p>You are: <span id="final"></span></p>
      </footer>
    </div>
    <script>
      let inputs = document.querySelectorAll(".input");
      let prints = document.querySelectorAll(".print");
      let total = document.getElementById("total");
      let percentage = document.getElementById("percentage");
      let final = document.getElementById("final");
      function main() {
        let totalmarks = 0;
        let decison = "none";
        inputs.forEach((element, index) => {
          let value = Number(element.value);
          if (value === "" || value == null || value < 0 || value > 50) {
            prints[index].innerHTML = `Invalid Marks`;
          } else {
            // print[index].innerHTML = null;
            totalmarks += value;
          }

          if (value < 20) {
            decison += "fail";
          }
        });
        total.innerHTML = totalmarks;
        percentage.innerHTML = ((totalmarks / 350) * 100).toFixed(2);

        if (decison.match("fail")) {
          console.log(decison);
          final.innerHTML = "fail";
        } else {
          final.innerHTML = "pass";
        }
      }
      document.getElementById("result").addEventListener("click", main);
    </script>
  </body>
</html>
